{"version":3,"file":"ng-scroll-detector.umd.js","sources":["ng://ng-scroll-detector/lib/ng-scroll-detector.service.ts","ng://ng-scroll-detector/lib/ng-scroll-detector.component.ts","ng://ng-scroll-detector/lib/ng-scroll.directive.ts","ng://ng-scroll-detector/lib/ng-scroll-detector.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NgScrollDetectorService {\n\n  constructor() { }\n}\n","import { Component, OnInit, Input, Output, EventEmitter, AfterViewChecked, OnChanges, SimpleChange, SimpleChanges } from '@angular/core';\n\n@Component({\n  selector: 'ng-scroll-detector',\n  template: `\n    <ng-content></ng-content>\n  `,\n  styles: []\n})\nexport class NgScrollDetectorComponent implements OnInit, AfterViewChecked, OnChanges {\n  @Input() elementId: string;\n  @Output() ifScroll: EventEmitter<any> = new EventEmitter<any>();\n  constructor() { }\n\n  ngOnInit() {\n    // console.log(this.elementId);\n    // this.elementId = \"test\";\n  }\n  ngAfterViewChecked() {\n    this.ifScrollBar();\n  }\n  ngOnChanges(changes: SimpleChanges) {\n  for (let propName in changes) {\n    let chng = changes[propName];\n    let cur  = JSON.stringify(chng.currentValue);\n    let prev = JSON.stringify(chng.previousValue);\n    console.log('Changes'+ prev,cur)\n   // this.changeLog.push(`${propName}: currentValue = ${cur}, previousValue = ${prev}`);\n  }\n}\n  ifScrollBar() {\n    if (this.elementId) {\n      let el = document.getElementById(`${this.elementId}`);\n      console.log(this.elementId);\n      let hs = el.scrollWidth > el.clientWidth;\n      let vs = el.scrollHeight > el.clientHeight;\n      let scrollBar = {\n        elClientWidth: el.scrollWidth,\n        elScrollWidth: el.clientWidth,\n        elScrollHeight: el.scrollHeight,\n        elClientHeight: el.clientHeight,\n        isVs: vs,\n        isHs: hs\n      }\n      this.ifScroll.emit(scrollBar);\n    } else {\n      throw console.error('Element not found, specify element to detect scroll');\n    }\n  }\n\n}","import {Directive, HostListener, Output, EventEmitter}from '@angular/core';\n  \n  @Directive({\n    selector: '[elemntscrollTracker]',\n  })\n  \n  export class elemntscrollTracker {\n    @Output() scrolled = new EventEmitter<any>();\n  \n    @HostListener('scroll', ['$event'])\n    onScroll(event) {\n      // do tracking\n      // console.log('scrolled', event.target.scrollTop);\n      // Listen to click events in the component\n      let tracker = event.target;\n      let endReachedVerticle = false;\n      let endReachedHorizontal = false;\n      let limitVerticle = tracker.scrollHeight - tracker.clientHeight;\n      let limitHorizontal = tracker.scrollWidth - tracker.clientWidth;\n      // alert(event.target.scrollLeft);\n     // console.log(event.target.scrollTop, limitVerticle);\n      if (event.target.scrollTop === limitVerticle) {\n        // alert('end reached');\n        endReachedVerticle = true;\n      }\n      if (event.target.scrollLeft === limitHorizontal) {\n        // alert('end reached bottom');\n        endReachedHorizontal = true;\n      }\n      this.scrolled.emit({\n        posVerticle: event.target.scrollTop,\n        endReachedVerticle,\n        posHorizontal:event.target.scrollLeft,\n        endReachedHorizontal\n      })\n    }\n  }\n  @Directive({\n    selector: '[htmlbodyscrollTracker]',\n  })\n  export class htmlbodyscrollTracker {\n    @Output() bodyscrolled = new EventEmitter<any>();\n    @HostListener('window:scroll', ['$event'])\n    onScroll(event) {\n        const verticalOffset = window.pageYOffset \n          || document.documentElement.scrollTop \n          || document.body.scrollTop || 0;\n         const HorizontalOffset = window.pageXOffset \n          || document.documentElement.scrollLeft\n          || document.body.scrollLeft || 0;\n      \n      this.bodyscrolled.emit({\n          verticalOffset,\n          HorizontalOffset,\n      })\n    }\n  }","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { NgScrollDetectorComponent } from './ng-scroll-detector.component';\nimport { elemntscrollTracker,htmlbodyscrollTracker } from './ng-scroll.directive';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule,ReactiveFormsModule  } from '@angular/forms';\n\n\n@NgModule({\n  declarations: [NgScrollDetectorComponent, elemntscrollTracker,htmlbodyscrollTracker],\n  imports: [\n    CommonModule, BrowserModule,FormsModule,ReactiveFormsModule\n  ],\n  exports: [NgScrollDetectorComponent,elemntscrollTracker,htmlbodyscrollTracker]\n})\nexport class NgScrollDetectorModule { }\n"],"names":["Injectable","EventEmitter","Component","Input","Output","Directive","HostListener","NgModule","CommonModule","BrowserModule","FormsModule","ReactiveFormsModule"],"mappings":"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"}